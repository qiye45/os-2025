M1: 迷宫游戏 (labyrinth)

2. 实验描述
🗒️实验要求：实现 labyrinth 命令行迷宫游戏
你需要实现一个命令行工具 labyrinth，它可以从文件加载迷宫地图，显示玩家位置，并支持玩家在迷宫中移动。除了基本功能外，你还需要实现命令行参数解析、错误处理以及连通性检查等功能。

你可以了解一下 Linux 系统中常见的命令行工具是如何工作的。它们通常支持各种命令行选项，并且有良好的错误处理机制。在这个实验中，我们的 labyrinth 工具需要支持以下功能：

2.1 总览
labyrinth [-m|--map FILE] [-p|--player ID] [--move DIRECTION] [--version]
2.2 描述
从文件加载迷宫地图，显示和移动指定的玩家。

--map 或 -m: 指定地图文件路径。
--player 或 -p: 指定玩家 ID (0-9)。
--move: 指定移动方向 (up, down, left, right)。
--version: 显示版本信息。
这些参数可以组合使用。

## 3. 正确性标准

### 3.1 地图文件规范

地图文件 (map.txt) 的格式如下：

- 若干行，每行包含相同数量的字符，代表迷宫地图
- 字符含义：
  - `#`：墙壁
  - `.`：空地
  - `0-9`：玩家 (数字代表玩家ID)
- 迷宫不超过 100 行、100 列
- 迷宫中**所有空地必须是连通的**，即从任意一个空地可以到达任意其他空地 (玩家视为空地)

### 3.2 基本命令

```bash
labyrinth --map map.txt --player id
labyrinth -m map.txt -p id
```

- 功能：解析地图，并打印 map.txt 中的内容 (原样打印)
- 参数：
  - `--map` 或 `-m`：指定地图文件路径
  - `--player` 或 `-p`：指定玩家ID（0-9）
  - `-m` 和 `-p` 可以互换位置
- 错误处理：
  - 如果地图文件不存在或格式不正确，退出并返回错误码 1
  - 如果玩家 ID 无效 (不在 0-9 范围内)，退出并返回错误码 1
  - 如果缺少任何必需参数，退出并返回错误码 1
  - 如果迷宫中的所有空地不连通，退出并返回错误码 1
  - 如果迷宫过大，退出并返回错误码 1

### 3.3 移动命令

```bash
labyrinth --map map.txt --player id --move direction
labyrinth -m map.txt -p id --move direction
```

- 功能：移动指定玩家
- 参数：
  - `--move`：移动方向，可选值为`up`、`down`、`left`、`right`
- 行为规则：
  - 只能移动到空地 (不能是墙壁或其他玩家所在位置)
  - 如果移动成功，退出并返回错误码 0
  - 果地图中没有该玩家记录，则将玩家放置在第一个空地（从上到下，从左到右查找第一个空地）
- 错误处理：
  - 如果移动失败 (目标位置是墙壁或其他玩家)，退出并返回错误码 1

### 3.4 版本信息命令

```bash
labyrinth --version
```

- 功能：显示版本信息
- 输出：必须包含 “Labyrinth Game”，其他信息可自定义
- 行为规则：
  - 如果命令行参数只有 `--version`，显示版本信息并返回错误码 0
- 错误处理：
  - 如果同时包含 `--version` 和其他参数，返回错误码 1